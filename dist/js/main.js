window.SKY={highlights:[],carousels:[],darkTheme:!1,init(){this.getTheme(),this.configEvents(),this.getData()},configEvents(){$("[changeTheme]").on("click",()=>{this.switchTheme()})},getData(){$.ajax({url:"https://sky-frontend.herokuapp.com/movies",type:"GET",success:e=>{this.highlights=e.filter(e=>"highlights"===e.type),this.carousels=e.filter(e=>"carousel-portrait"===e.type),this.makeHighlights(),this.makeCarousels()},error:e=>{console.log(e.statusText,e.status)}})},getTheme(){this.darkTheme=eval(localStorage.getItem(btoa("dark-theme")))||!1,console.log(this.darkTheme),this.setTheme()},setTheme(){this.darkTheme?$("body").addClass("dark"):$("body").removeClass("dark"),localStorage.setItem(btoa("dark-theme"),this.darkTheme)},switchTheme(){this.darkTheme=!this.darkTheme,this.setTheme()},makeHighlights(){const e=this.highlights[0].items.map(e=>`\n        <div class="item">\n          <a href="#">\n            <img src="${e.images[0].url}" alt="${e.title}">\n          </a>\n        </div>`);$(".slider").html(e).removeClass("loading"),this.initHighlights()},makeCarousels(){const e=this.carousels.map(e=>`\n        <div class="movie-list">\n          <h2 class="header-list">${e.title}</h2>\n          <div class="box-carousel">\n            ${e.movies.map(e=>`\n              <div class="item ${e.isBlocked?"blocked":""}">\n                <div class="box-img">\n                  <a href="#">\n                    <img src="${e.images[0].url}" alt="${e.title}" />\n                  </a>\n                </div>\n              </div>\n            `).join("")}\n          </div>\n        </div> `);$(".carousels-wrapper").html(e),this.initCarousels()},initHighlights(){$(".slider").slick({centerMode:!0,centerPadding:"25%",dots:!0,autoplay:!1,autoplaySpeed:1e3,responsive:[{breakpoint:768,settings:{arrows:!1,dots:!1,centerMode:!1,centerPadding:0}}]})},initCarousels(){$(".box-carousel").slick({initialSlide:0,infinite:!1,slidesToShow:7,slidesToScroll:7,responsive:[{breakpoint:992,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:768,settings:{arrows:!1,centerMode:!1,slidesToShow:4,slidesToScroll:1}},{breakpoint:599,settings:{arrows:!1,centerMode:!1,slidesToShow:2,slidesToScroll:1}}]})}};